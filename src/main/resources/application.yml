# ============================================
# ME LEVA NORONHA - CONFIGURAÇÃO BASE
# ============================================
# Este arquivo contém configurações comuns a todos os profiles
# Profiles específicos são definidos em:
# - application-dev.properties (desenvolvimento)
# - application-prod.properties (produção)
#
# Para ativar um profile:
# - Via variável de ambiente: SPRING_PROFILES_ACTIVE=dev ou SPRING_PROFILES_ACTIVE=prod
# - Via linha de comando: java -jar app.jar --spring.profiles.active=prod
# - Via application.properties: spring.profiles.active=dev

spring:
  application:
    name: melevanoronha
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  
  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: org.postgresql.Driver

  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    hibernate:
      ddl-auto: ${HIBERNATE_DDL_AUTO:update}
    show-sql: ${HIBERNATE_SHOW_SQL:true}
    properties:
      hibernate:
        format_sql: false
        use_sql_comments: true

server:
  port: ${PORT:${SERVER_PORT:8080}}

jwt:
  secret: ${JWT_SECRET}
  expiration: ${JWT_EXPIRATION:28800}
  refresh-expiration: ${JWT_REFRESH_EXPIRATION:604800}

weather:
  open-meteo:
    base-url: ${WEATHER_API_BASE_URL:https://api.open-meteo.com/v1}
    forecast-url: ${weather.open-meteo.base-url}/forecast
  location:
    latitude: ${WEATHER_LATITUDE:-3.8548}
    longitude: ${WEATHER_LONGITUDE:-32.4233}
    timezone: ${WEATHER_TIMEZONE:America/Recife}

flight:
  api:
    enabled: ${FLIGHT_API_ENABLED:true}
    base-url: ${FLIGHT_API_BASE_URL:https://test.api.amadeus.com/v2/shopping/flight-offers}
    auth-url: ${FLIGHT_API_AUTH_URL:https://test.api.amadeus.com/v1/security/oauth2/token}
    key: ${FLIGHT_API_KEY}
    secret: ${FLIGHT_API_SECRET}
  fallback:
    price-per-person: ${FLIGHT_FALLBACK_PRICE:1500.0}

springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: ${SWAGGER_ENABLED:true}

